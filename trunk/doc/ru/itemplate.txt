interface= itemplate
source = lib/interfaces.php

Интерфейс для генерации html. Используется классом [[ttemplate]]. Метод [[request]] используется [[turlmap]] для предварительного запроса до генерации html, подробности смотрите в описании метода.

Следует сделать важное замечание. Интерфейс [[itemplate]] (как и другие интерфейсы) в неявном виде подразумевает добавление стандартных свойств в классе поддерживающим интерфейс. В интерфейсе по правилам PHP могут быть только методы, но поскольку litepublisher поддерживает добавление новых свойств через методы (смотрите описание волшебных методов [[tdata]]: [[tdata::__get]] и [[tdata::__set]]. Таким образом в документации к интерфейсу будут свойства.

method = request
type = mixed
access = public 

Вызывается из [[turlmap::GenerateHTML]]. У метода один аргумент, который был добавлен в таблицу адресов [[turlmap]], например для записей это id записи, другие классы могут передавать другие аргументы, в том числе и null. Если метод возвращает 404 (целое число), то будет отдана страница 404 not found. Так например 404 возвращают записи со статусом черновик. Классы генерирующие XML, должны вернуть законченный xml документ с http заголовками в этом методе. Если метод ничего не возвратит, то будет запущен процесс генерации html страницы, которое осуществляет класс [[ttemplate]]. Если будет возвращена строка, то эта строка будет выполнена как php код (eval). Так поступают классы возвращающие xml [[TRSS]], [[TXMLRPC]]'

method = gettitle
type = string
access = public 

Вызывается из [[ttemplate]] и возвращает строку - заголовок страницы. Поскольку название метода начинается с get, то этот метод добавляет свойство [[title]] к классу

method = getkeywords
type = string
access = public 

Возвращает строку, которая будет в keywords секции head html страницы.

method = getdescription
type = string
access = public 

Возвращает строку, которая будет в description секции head html страницы.

method = gethead
type = string
access = public 

Возвращает строку, которая будет в секции head html страницы. Как правило используется для добавления javascript только для одной страницы или особых стилей и тому подобное.

method = getcont
type = string
access = public 

Центральный метод интерфейса. Возвращает html контент. Как правило внутри этого метода классы используют шаблоны текущей темы секции content для генерации html. Пример реализации в записи:

method = getidview
type = integer

Метод возвращает id вида класса. Класс [[ttemplate]] создает экземпляр [[tview]], используя полученный id. В виде находится много информации: тема, виджеты, меню и другие настройки необходимые для генерации html страницы

method = setidview
type = void

Метод меняет id вида (смотрите [[tview]]) у класса. Метод вызывается если полученный [[getidview]] id вида не существует и необходимо исправить значение.

prop = title
type = string
access = ro 

Заголовок страницы. Свойство появляется в классе реализующем интерфейс [[itemplate]].

prop = keywords
type = string
access = ro 

Строка для keywords секции head html страницы. Свойство появляется в классе реализующем интерфейс [[itemplate]].

prop = description
type = string
access = ro 

Строка description секции head html страницы. Свойство появляется в классе реализующем интерфейс [[itemplate]].

prop = head
type = string
access = ro 

Дополнительные строки секции head html страницы. Свойство появляется в классе реализующем интерфейс [[itemplate]].

prop = idview
type = string
access = rw

id вида страницы, смотрите класс [[tview]]. Важное свойство для чтения и записи у классов поддерживающих интерфейс ]]itemplate]].