var widgets={items:[]};widgets.load=function(a,d,b){var c=widgets.findcomment(a,d);if(!c){return alert("Widget not found")}a.onclick=null;$.get(ltoptions.url+"/getwidget.htm",{id:d,sidebar:b,themename:ltoptions.themename,idurl:ltoptions.idurl},function(e){var f=$(e);$(c).replaceWith(f);widgets.add(a,f)},"html")};widgets.inlineload=function(b){var c=widgets.findcomment(b,false);if(!c){return alert("Widget not found")}var a=$(c.nodeValue);$(c).replaceWith(a);return widgets.add(b,a)};widgets.add=function(a,b){a.onclick=widgets.toggle;widgets.items.push([a,b]);return widgets.items.length-1};widgets.setitem=function(b,c){for(var a=widgets.items.length-1;a>=0;a--){if(b==widgets.items[a][0]){widgets.items[a][1]=c;return}}widgets.add(b,c)};widgets.toggle=function(){node=this;for(var a=widgets.items.length-1;a>=0;a--){if(node==widgets.items[a][0]){$(widgets.items[a][1]).toggle();return}}};widgets.findcomment=function(b,c){var a=false;if(c){c="widgetcontent-"+c}do{a=b;while(a=a.nextSibling){if(a.nodeType!=8){continue}if(!c||(c==a.nodeValue)){return a}}}while(b=b.parentNode);return false};