$(document).ready(function(){$("#themetree").find("a").click(function(){try{$(this).parent().find("ul:first").slideToggle();var a=$(this).attr("rel");if("ignore"==a)return!1;var c=$(this).data("editor");c?switcheditor(c):$(this).data("editor",createeditor(a,$(this).text()))}catch(b){alert(b.message)}return!1})});function replace_string(a,c,b){for(var d=a.indexOf(c);-1<d;)a=a.replace(c,b),d=a.indexOf(c);return a}
function createeditor(a,c){var b;b=replace_string('<p><label for="$name"><strong>$lang.$name:</strong></label><br /> <textarea name="$name" id="$name" cols="57%" rows="10">$value</textarea></p>',"$lang.$name",c);b=replace_string(b,"$name",replace_string(a,".","_"));var d=theme[a];void 0==d&&alert(a);b=replace_string(b,"$value",d);b=$(b);$("#themeeditor").append(b);switcheditor(b);return b}
function switcheditor(a){var c=$("#themeeditor").data("mycurrent");if(c){if(c==a)return;c.slideUp("fast",function(){a.slideDown("fast")})}else a.show();$("#themeeditor").data("mycurrent",a)};
