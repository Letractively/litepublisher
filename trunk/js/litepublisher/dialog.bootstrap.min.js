(function(a,l,m){a.BootstrapDialog=Class.extend({tml:'<div class="modal fade" id="dialog-%%id%%" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">%%title%%</h4></div><div class="modal-body">%%body%%</div><div class="modal-footer">%%buttons%%</div></div></div></div>',button:'<button type="button" class="btn btn-default" id="%%id%%">%%title%%</button>',
dialog:!1,init:function(){this.id=a.now();var e=this;this.options={title:"",html:"",width:!1,open:a.noop,close:a.noop,buttons:[{title:"Ok",click:function(){e.close()}}]};a.closedialog=a.proxy(this.close,this);a.litedialog=a.proxy(this.open,this)},close:function(){this.dialog&&(this.dialog.modal("hide"),this.dialog=!1)},open:function(e){if(this.dialog)return alert("Dialog already opened");var g=this.id++,b=a.extend({},this.options,e),f="";e="button-"+g+"-";for(var c=0,h=b.buttons.length;c<h;c++)f+=
this.button.replace(/%%id%%/g,e+c).replace(/%%title%%/g,b.buttons[c].title);1==h&&(f=f.replace(/%%btn-default%%/g,"btn-primary"));for(var g=a.simpletml(this.tml,{id:g,title:b.title,body:b.html,buttons:f}),d=this.dialog=a(g).appendTo("body"),c=0,h=b.buttons.length;c<h;c++)a("#"+e+c,d).data("index",c).on("click.dialog",b.buttons[c].click);if(b.width)d.on("show.bs.modal",function(){d.find(".modal-content:first").css("width",b.width)});if(a.isFunction(b.open))d.on("shown.bs.modal",function(){b.open(d)});
d.modal();var k=this;d.on("hidden.bs.modal",function(){a.isFunction(b.close)&&b.close(d);k.dialog=!1;d.remove()});return d}});ready2(function(){"modal"in a.fn&&(a.bootstrapDialog=new a.BootstrapDialog)})})(jQuery,window,document);
