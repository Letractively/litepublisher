function load_script(b,d){var c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var a=document.createElement("script");a.async="async";a.src=b;a.onload=a.onreadystatechange=function(){if(!a.readyState||/loaded|complete/.test(a.readyState)){a.onload=a.onreadystatechange=null;if(c&&a.parentNode){c.removeChild(a)}a=undefined;if(typeof d==="function"){d()}}};c.insertBefore(a,c.firstChild)}var jqloader={jquery_loaded:false,is_ready:false,items:[],holditems:[],holdready:[],loaded:function(a){for(var b=this.items.length-1;b>=0;b--){if(a==this.items[b].url){return this.items[b].script}}return false},load:function(b,c){if(jqloader.jquery_loaded){var a=jqloader.loaded(b);if(a){a.done(c)}else{a=$.getScript(b,c);jqloader.items.push({url:b,script:a})}return a}else{jqloader.holditems.push({url:b,fn:c})}},load_jquery:function(a){load_script(a,jqloader.init)},init:function(){jqloader.jquery_loaded=$.fn!=undefined;if(!jqloader.jquery_loaded){return}var d,c,b=[];for(d=0,c=jqloader.holditems.length-1;d<=c;d++){var e=jqloader.holditems[d];jqloader.load(e.url,e.fn)}jqloader.holditems=null;window.setTimeout(function(){for(d=0,c=jqloader.items.length-1;d<=c;d++){b.push(jqloader.items[d].script)}var a=$.when.apply($,b);a.done(function(){jqloader.is_ready=true;for(d=0,c=jqloader.holdready.length-1;d<=c;d++){$(document).ready(jqloader.holdready[d])}jqloader.holdready=null})},20)},ready:function(a){if(jqloader.is_ready){$(document).ready(a)}else{jqloader.holdready.push(a)}}};var $=function(a){if(typeof a==="function"){jqloader.ready(a)}this.ready=jqloader.ready;this.getScript=jqloader.load;return this};