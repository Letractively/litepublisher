(function(a,d){litepubl.Calendar=Class.extend({ui_datepicker:!1,dialogopened:!1,init:function(){var b=this;a(".calendar-button").click(function(){var c=a(this).parent().find("input:first");b.open(c);return!1})},load:function(b){if(this.ui_datepicker)return this.ui_datepicker.done(b);var c=this;this.ui_datepicker=a.load_script(ltoptions.files+"/js/jquery/ui-"+a.ui.version+"/jquery.ui.datepicker.min.js",function(){if("en"==ltoptions.lang)return b();c.ui_datepicker=a.load_script(ltoptions.files+"/js/jquery/ui-"+
a.ui.version+"/jquery.ui.datepicker-"+ltoptions.lang+".min.js",b)})},open:function(b){if(!this.dialogopened){this.dialogopened=!0;var c=this;this.load(function(){var d=b.val();a.prettyPhotoDialog({title:lang.admin.calendar,html:'<div  style="width:290px;height:200px;display:block;overflow:hidden;"><div id="popup-calendar"></div></div>',width:300,close:function(){c.dialogopened=!1},open:function(){a("#popup-calendar").datepicker({altField:b,altFormat:"dd.mm.yy",dateFormat:"dd.mm.yy",defaultDate:d,
changeYear:!0})},buttons:[{title:lang.dialog.close,click:a.proxy(a.prettyPhoto.close,a.prettyPhoto)}]})})}}});a(d).ready(function(){try{litepubl.calendar=new litepubl.Calendar}catch(a){erralert(a)}})})(jQuery,document,window);
