(function(a){a.messagebox=function(b,c){return a.prettyPhotoDialog({title:b,html:"<p>"+c+"</p>",width:200})};a.confirmbox=function(b,c,d,e,f){return a.prettyPhotoDialog({title:b,html:"<p>"+c+"</p>",buttons:[{title:d,click:function(){var c=a(this).data("index");a.prettyPhoto.close();f(c)}},{title:e,click:function(){var c=a(this).data("index");a.prettyPhoto.close();f(c)}}]})};a.confirmdelete=function(b){a.confirmbox(lang.dialog.confirm,lang.dialog.confirmdelete,lang.dialog.yes,lang.dialog.no,function(a){0==
a&&b()})};a.fn.prettyPhotoDialog=function(b){a.prettyPhotoDialog({title:a(this).attr("title"),html:a(this).html(),buttons:b});return this};a.prettyPhotoDialog=function(b){for(var c=a.extend({title:"",html:"",width:300,open:function(){},close:function(){},buttons:[{title:"Ok",click:function(){a.prettyPhoto.close()}}]},b),b="",d=0,e=c.buttons.length;d<e;d++)b+='<button type="button" class="pp_dialog_btn_{index}">{title}</button>'.replace(/{index}/g,d).replace(/{title}/g,c.buttons[d].title);var d="pp_dialog_id_"+
(Math.random()+"").replace(".",""),f=a('<div id="'+d+'"></div>').appendTo("body").hide();f.html('<div class="pp_dialog_title"><h3>'+c.title+"</h3></div>"+c.html+'<div class="pp_dialog_buttons">'+b+"</div>");b=a("<div></div>").appendTo("body").hide();e=a("<a title=''></a>").appendTo(b);e.attr("href","#"+d);e.prettyPhoto({default_width:c.width,opacity:0.6,modal:!0,deeplinking:!1,keyboard_shortcuts:!1,show_title:!1,social_tools:!1,hideflash:!0,changepicturecallback:function(){f.remove();a(".pp_close").remove();
for(var b=0,d=c.buttons.length;b<d;b++)a(".pp_dialog_btn_"+b).data("index",b).click(c.buttons[b].click);a(".pp_dialog_btn_0").focus();a.isFunction(c.open)&&c.open(a(".pp_inline"))},callback:function(){a(document).off("keydown.onEscape");a.isFunction(c.close)&&c.close()}});e.click();b.remove();a.onEscape(a.prettyPhoto.close);return c}})(jQuery);
