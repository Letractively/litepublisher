(function(b,f,a){litepubl.Storage=Class.extend({type:!1,get:!1,set:!1,remove:!1,init:function(){if(!("storage"in litepubl)){var d=!1;if("localStorage"in a){try{a.localStorage.setItem("litepubl_test","testvalue"),d=!0,a.localStorage.removeItem("litepubl_test")}catch(g){}if(d){this.type="local";this.get=b.proxy(a.localStorage.getItem,a.localStorage);this.set=b.proxy(a.localStorage.setItem,a.localStorage);this.remove=b.proxy(a.localStorage.removeItem,a.localStorage);return}}if("globalStorage"in a){try{if(a.globalStorage)var e=
"localhost"==a.location.hostname?a.globalStorage["localhost.localdomain"]:a.globalStorage[a.location.hostname],d=!0}catch(h){}if(d){this.type="global";this.get=b.proxy(e.getItem,e);this.set=b.proxy(e.setItem,e);this.remove=b.proxy(e.removeItem,e);return}}try{var c=f.createElement("link");c.addBehavior&&(c.addBehavior("#default#userData"),f.getElementsByTagName("head")[0].appendChild(c),c.load(),d=!0)}catch(k){}d?(this.type="link",this.get=function(a){c.load();return c.getAttribute(a)},this.set=function(a,
b){c.setAttribute(a,b);c.save()},this.remove=function(a){c.removeAttribute(a);c.save()}):(this.type="cookie",this.get=function(a){return b.cookie(a)},this.set=function(a,b){set_cookie(a,Value)},this.remove=function(a){b.cookie(a,!1)})}}});litepubl.getstorage=function(){return"storage"in litepubl?litepubl.storage:litepubl.storage=new litepubl.Storage}})(jQuery,document,window);
