[document]
type = interface
name = itemplate
source = lib/interfaces.php
description = 'Интерфейс для генерации html. Используется классом [[ttemplate]]. Метод [[request]] используется [[turlmap]] для предварительного запроса до генерации html, подробности смотрите в описании метода.

Следует сделать важное замечание. Интерфейс [[itemplate]] в неявном виде подразумевает необязательное наличие свойств theme и tmlfile. Если эти свойства присутствуют и содержат не пустые строки, то для генерации html будут использованы значения этих свойств. В частности theme - имя темы, отличающейся от темы по умолчанию, tmlfile - отличный от index.tml файл шаблонов темы.'

[method]
name = request
type = mixed
access = public 
description = 'Вызывается из [[turlmap::GenerateHTML]]. У метода один аргумент, который был добавлен в таблицу адресов [[turlmap]], например для записей это id записи, другие классы могут передавать другие аргументы, в том числе и null. Если метод возвращает 404, то будет сообщение, что документ не найден. Так например 404 возвращают записи со статусом черновик. Если метод ничего не возвратит, то будет запущен процесс генерации html страницы, которое осуществляет класс [[ttemplate]]. Если будет возвращена строка, то эта строка будет выполнена как php код (eval). Так поступают классы возвращающие xml [[TRSS]], [[TXMLRPC]]'

[method]
name = gettitle
type = string
access = public 
description = 'Вызывается из [[ttemplate]] и возвращает строку - заголовок страницы. Поскольку название метода начинается с get, то этот метод добавляет свойство title к классу'

[method
name = getkeywords
type = string
access = public 
description = 'Возвращает строку, которая будет в keywords секции head html страницы.'

[method]
name = getdescription
type = string
access = public 
description = 'Возвращает строку, которая будет в description секции head html страницы.'

[method]
name = gethead
type = string
access = public 
description = 'Возвращает строку, которая будет в секции head html страницы. Как правило используется для добавления javascript только для одной страницы или особых стилей и тому подобное.'

[method]
name = getcont
type = string
access = public 
description = 'Центральный метод интерфейса. Возвращает html контент. Как правило внутри этого метода классы используют шаблоны текущей темы секции content для генерации html. Пример реализации в записи:
<code>
    $theme = ttheme::instance();
    return $theme->parse($theme->content->post);
</code>'