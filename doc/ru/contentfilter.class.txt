classname = tcontentfilter
parent = tevents

Специальный класс для конвертирования текста в html в записях и комментариях. LitePublisher устроен таким образом, что хранит исходный текст и отфильтрованный конечный html записей, комментариев, меню. Преобразование между исходным текстом и конечным html как раз делает этот класс. Соответственно очень много плагинов встраиваются в цепочки таких фильтров, например markdown, wiki, система документации, плеер youtube, короткие коды, внешние ссылки, tidy и так далее. Все эти плагины подписываются (другими словами обрабатывают) события этого класса. Фильтрация текста как правило происходит один раз (или после изменения исходного текста) и ее результаты используются. Чтобы перефильтровать все записи  (например при инсталяции плагина внешних ссылок) есть специальный механизм litepublisher - номер ревизии, смотрите [[tposts::addrevision]]. Плагины обработки текста могут быть сколь угодно сложными, но это не влияет на производительность движка, так как обработка текста происходит один раз и ее результаты сохраняются.

event = oncomment
type = boolean

Вызывается в методе [[filtercomment]] фильтрации комментария, в качестве аргумента -текст комментария, пример метода обработчика:
public function filtercomment(&$content) {...}

Вызывается перед обработкой текста комментария, но после замены перевода строк и замены всех спецсимволов. Если последний обработчик события возвращает true, то последдующей обработки не будет и будет вызвано событие [[onaftercomment]].

event = onaftercomment

Вызывается после обработки текста комментария. Вы можете сделать изменения после всех фильтров в методе [[filtercomment]]

method = filtercomment
type = string

Вызывается из [[tcomments::add]] и [[tcomments::edit]]. Метод преобразует сырой текст комментария в конечный html, который будет использован при генерации списка комментариев на странице записи. Иными словами метод конвертирует $comment.rawcontent в $comment.content, и как раз тег $comment.content и используется в шаблоне комментария 
content.post.templatecomments.comments.comment

Вначале метод нормализует переводыстроки заменяет все спецсимволы на html сущности. После чего вызывается событие [[beforecomment]], потом заменяются все bbcode, в зависимости от настроек создаются ссылки из текста. В конце вызывается событие [[aftercomment]]

method = filterpost

Центральный метод класса, который конвертирует сырой текст записи в законченный html записи, в том числе формируя анонс, сылку далее и RSS. Этот метод вызывается 


beforecontent
 'aftercontent', 'beforefilter', 'afterfilter', 'onsimplefilter', 'onaftersimple');
