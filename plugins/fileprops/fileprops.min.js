$(document).ready(function(){function c(a){b||(b=$('<div title="%%lang_titledialog%%"><p><input type="text" name="fileprop_title" id="fileprop_title" value="" size="22" /><label for="fileprop_title"><strong>%%lang_title%%</strong></label></p><p><input type="text" name="fileprop_description" id="fileprop_description" value="" size="22" /><label for="fileprop_description"><strong>%%lang_description%%</strong></label></p><p><input type="text" name="fileprop_keywords" id="fileprop_keywords" value="" size="22" /><label for="fileprop_keywords"><strong>%%lang_keywords%%</strong></label></p></div>').appendTo("#filetabs"),
b.dialog({autoOpen:!1,modal:!0,buttons:[{text:"%%lang_update%%",click:function(){$(this).dialog("close");a.title=$.trim($("#fileprop_title",b).val());a.description=$.trim($("#fileprop_description",b).val());a.keywords=$.trim($("#fileprop_keywords",b).val());d(a)}},{text:"%%lang_cancel%%",click:function(){$(this).dialog("close")}}]}));$("#fileprop_title",b).val(a.title);$("#fileprop_description",b).val(a.description);$("#fileprop_keywords",b).val(a.keywords);b.dialog("open");$("#fileprop_title",b).focus()}
function d(a){$.get(ltoptions.url+"/admin/fileprops.htm",{action:"set",id:a.id,title:a.title,description:a.description,keywords:a.keywords},function(){})}if(0!=$("#filebrowser").length){var b=!1;$(document).on("click","#filebrowser a[rel^='prettyPhoto']",function(){var a=$(this).data("fileprops");if(a)c(a);else{var b=$(this);$.get(ltoptions.url+"/admin/fileprops.htm",{action:"get",filename:$(this).attr("href")},function(a){a=$.parseJSON(a);b.data("fileprops",a);c(a)})}return!1})}});
