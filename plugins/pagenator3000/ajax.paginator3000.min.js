(function(b){b.fn.paginator2=function(m){var g,f,j,n,c,d;function r(a){var b=0;a||(a=window.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&"function"==typeof handle&&(handle(b),a.preventDefault&&a.preventDefault(),a.returnValue=!1)}function s(){b(c).css({width:c.widthPercent+"%"});c.widthActual=b(c).width();c.widthActual<c.widthMin&&b(c).css("width",c.widthMin+"px");c.xPosMax=b(f).width-c.widthActual}function i(){b(c).css({left:c.xPos+"px"})}function t(){b(d).css({width:d.widthPercent+
"%"});d.widthActual=b(d).width();d.widthActual<d.widthMin&&b(d).css("width",d.widthMin+"px")}function u(){var c=0,c=d.widthActual<b(d).width()?a.pageCurrent/a.pagesTotal*b(f).width()-b(d).width()/2:a.pageCurrent/a.pagesTotal*b(f).width();0>c&&(c=0);c>b(n).width()-b(d).width()&&(c=b(n).width()-b(d).width());a.returnOrder&&(c=b(f).width()-c-b(d).width());b(d).css({left:c+"px"})}function o(){b(".paginator").off("click.pagenator").on("click.pagenator",'a.page-number, a[rel!=""]',function(){var c=b(".paginator"),
h=b(this);if(h.hasClass("page-number")){var e=1*h.text()-1;b("a.page-number",c).removeClass("paginator-current-page");h.addClass("paginator-current-page")}else e=parseInt(h.attr("rel"));if(isNaN(e)||e==a.pageCurrent)return!1;try{a.pageCurrent=e,b(".next-page",c).attr("rel",e<parseInt(a.pagesTotal)-1?e+1:1*a.pagesTotal-1),b(".prev-page",c).attr("rel",0<e?e-1:0),a.baseUrl(e)}catch(d){alert("error "+d.message)}return!1})}function p(){var d=c.xPos/b(f).width(),d=Math.round(d*a.pagesTotal),h="";0>d?(d=
0,c.xPos=0,i()):d>=a.pagesTotal-a.pagesSpan&&(d=a.pagesTotal-a.pagesSpan,c.xPos=b(f).width()-b(c).width(),i());b.isFunction(a.baseUrl);for(var e=1;e<=j.length;e++)h=d+e,h=1*h-1==a.pageCurrent?'<span> <a href=#"" class="page-number paginator-current-page">'+h+"</a></span>":'<span> <a href="#" class="page-number">'+h+"</a></span>",b(j[e-1]).html(h);o(g)}function q(){var d=c.xPos/b(f).width(),d=a.pagesTotal-Math.round(d*a.pagesTotal),h="";d<a.pagesSpan?(d=a.pagesSpan,c.xPos=b(f).width()-b(c).width(),
i()):d>=a.pagesTotal&&(d=a.pagesTotal,c.xPos=0,i());b.isFunction(a.baseUrl);for(var e=1;e<=j.length;e++)h=d-e,h=1*h-1==a.pageCurrent?'<span> <a href="#" class="page-number paginator-current-page">'+h+"</a></span>":'<span> <a href="#" class="page-number">'+h+"</a></span>",b(j[e-1]).html(h);o(g)}function v(){document.onselectstart=function(){return!0}}function w(){document.onselectstart=function(){return!1};b(c).focus()}function x(b){c.xPos+=-5*b;i();a.returnOrder?q():p()}var a={pagesTotal:1,pagesSpan:10,
pageCurrent:0,baseUrl:function(){},returnOrder:!1,lang:{next:lang.pagenator.next,last:lang.pagenator.last,prior:lang.pagenator.prior,first:lang.pagenator.first,arrowRight:String.fromCharCode(8594),arrowLeft:String.fromCharCode(8592)}};b.extend(a,m);a.pagesSpan=a.pagesSpan<a.pagesTotal?a.pagesSpan:a.pagesTotal;a.pageCurrent=a.pagesTotal<a.pageCurrent?a.pagesTotal:a.pageCurrent;!b.isFunction(a.baseUrl)&&!a.baseUrl.match(/%page%/i)&&(a.baseUrl+="%page%");d=c=n=j=m=f=g=null;g=this;b(g).html(function(){var c=
100/(a.pagesSpan+2)+"%",d=b.isFunction(a.baseUrl),e=parseInt(a.pageCurrent)<parseInt(a.pagesTotal)-1?parseInt(a.pageCurrent)+1:a.pagesTotal*1-1,f;f='<a class="next-page" href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,e));f=f+('" rel="'+e+'">%next%</a>');var e='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,a.pagesTotal*1-1)),e=e+('" rel="'+(a.pagesTotal*1-1)+'">%last%</a>'),g=parseInt(a.pageCurrent)>0?parseInt(a.pageCurrent)-1:0,i;i='<a class="prev-page" href="'+(d?"javascript:void(0)":
a.baseUrl.replace(/%page%/i,g));i=i+('" rel="'+g+'">%prior%</a>');var j;j='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,0));j=j+'" rel="0">%first%</a>';if(a.returnOrder){var k=a.lang.arrowLeft+" "+a.lang.next,d=a.lang.last,g=a.lang.prior+" "+a.lang.arrowRight,l=a.lang.first;if(a.pageCurrent<a.pagesTotal-1){k=f.replace(/%next%/,k);d=e.replace(/%last%/,d)}if(a.pageCurrent>0){g=i.replace(/%prior%/,g);l=j.replace(/%first%/,l)}}else{l=a.lang.last;g=a.lang.next+" "+a.lang.arrowRight;k=
a.lang.arrowLeft+" "+a.lang.prior;d=a.lang.first;if(a.pageCurrent<a.pagesTotal-1){g=f.replace(/%next%/,g);l=e.replace(/%last%/,l)}if(a.pageCurrent>0){k=i.replace(/%prior%/,k);d=j.replace(/%first%/,d)}}f='<table width="100%"><tr><td class="left top">'+k+'</td><td class="spaser"></td><td rowspan="2" align="center"><table><tr>';for(e=1;e<=a.pagesSpan;e++)f=f+('<td width="'+c+'"></td>');return f=f+('</tr><tr><td colspan="'+a.pagesSpan+'"><div class="scroll_bar"><div class="scroll_trough"></div><div class="scroll_thumb"><div class="scroll_knob"></div></div><div class="current_page_mark"></div></div></td></tr></table></td><td class="spaser"></td><td class="right top">'+
g+'</td></tr><tr><td class="left bottom">'+d+'</td><td class="spaser"></td><td class="spaser"></td><td class="right bottom">'+l+"</td></tr></table>")}());f=b(g).find("table:last");m=b(f).find("tr:first");j=b(m).find("td");n=b(g).find("div.scroll_bar");c=b(g).find("div.scroll_thumb");d=b(g).find("div.current_page_mark");a.pagesTotal==a.pagesSpan&&b(g).addClass("fulsize");c.widthMin="8";c.widthPercent=100*(a.pagesSpan/a.pagesTotal);c.xPosPageCurrent=(a.pageCurrent+1-Math.round(a.pagesSpan/2))/a.pagesTotal*
b(f).width();a.returnOrder&&(c.xPosPageCurrent=b(f).width()-(c.xPosPageCurrent+Math.round(a.pagesSpan/2)/a.pagesTotal*b(f).width()));c.xPos=c.xPosPageCurrent;c.xPosMin=0;c.xPosMax;c.widthActual;s();d.widthMin="3";d.widthPercent=100/a.pagesTotal;d.widthActual;t();u();(function(){i();a.returnOrder?q():p();b(c).bind("mousedown",function(d){var f=d.pageX-c.xPos;b(document).bind("mousemove",function(b){c.xPos=b.pageX-f;i();a.returnOrder?q():p()});b(document).bind("mouseup",function(){b(document).unbind("mousemove");
v()});w()});b.isFunction(a.baseUrl)&&o(g);b(window).resize(function(){t();u();s()})})();window.addEventListener&&window.addEventListener("DOMMouseScroll",r,!1);window.onmousewheel=document.onmousewheel=r;b(this).mouseover(function(){handle=x}).mouseout(function(){handle=null})}})(jQuery);
