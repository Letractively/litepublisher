(function(b){b.fn.paginator=function(n){var h,e,i,o,c,d;function r(a){var b=0;a||(a=window.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&"function"==typeof handle&&(handle(b),a.preventDefault&&a.preventDefault(),a.returnValue=!1)}function s(){b(c).css({width:c.widthPercent+"%"});c.widthActual=b(c).width();c.widthActual<c.widthMin&&b(c).css("width",c.widthMin+"px");c.xPosMax=b(e).width-c.widthActual}function k(){b(c).css({left:c.xPos+"px"})}function t(){b(d).css({width:d.widthPercent+
"%"});d.widthActual=b(d).width();d.widthActual<d.widthMin&&b(d).css("width",d.widthMin+"px")}function u(){var c=0,c=d.widthActual<b(d).width()?a.pageCurrent/a.pagesTotal*b(e).width()-b(d).width()/2:a.pageCurrent/a.pagesTotal*b(e).width();0>c&&(c=0);c>b(o).width()-b(d).width()&&(c=b(o).width()-b(d).width());a.returnOrder&&(c=b(e).width()-c-b(d).width());b(d).css({left:c+"px"})}function p(){var m=c.xPos/b(e).width(),m=Math.round(m*a.pagesTotal),j="";0>m?(m=0,c.xPos=0,k()):m>=a.pagesTotal-a.pagesSpan&&
(m=a.pagesTotal-a.pagesSpan,c.xPos=b(e).width()-b(c).width(),k());for(var d=b.isFunction(a.baseUrl),f=1;f<=i.length;f++){var g=m+f;1*g-1==a.pageCurrent?j="<span> <strong>"+g+"</strong> </span>":(j='<span> <a href="',j+=d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,1*g-1),j+='">'+g+"</a> </span>");b(i[f-1]).html(j);d&&b(i[f-1]).find("a").bind("click",function(){a.baseUrl(b(this).text()*1-1)})}}function q(){var d=c.xPos/b(e).width(),d=a.pagesTotal-Math.round(d*a.pagesTotal),j="";d<a.pagesSpan?
(d=a.pagesSpan,c.xPos=b(e).width()-b(c).width(),k()):d>=a.pagesTotal&&(d=a.pagesTotal,c.xPos=0,k());for(var l=b.isFunction(a.baseUrl),f=1;f<=i.length;f++){var g=d-f;1*g-1==a.pageCurrent?j="<span> <strong>"+g+"</strong> </span>":(j='<span> <a href="',j+=l?"javascript:void(0)":a.baseUrl.replace(/%page%/i,1*g-1),j+='">'+g+"</a> </span>");b(i[f-1]).html(j);l&&b(i[f-1]).find("a").bind("click",function(){a.baseUrl(b(this).text()*1-1)})}}function v(){document.onselectstart=function(){return!0}}function w(){document.onselectstart=
function(){return!1};b(c).focus()}function x(b){c.xPos+=-5*b;k();a.returnOrder?q():p()}var a={pagesTotal:1,pagesSpan:10,pageCurrent:0,baseUrl:"?page=",returnOrder:!1,lang:{next:"Next",last:"Last",prior:"Prior",first:"First",arrowRight:String.fromCharCode(8594),arrowLeft:String.fromCharCode(8592)}};b.extend(a,n);a.pagesSpan=a.pagesSpan<a.pagesTotal?a.pagesSpan:a.pagesTotal;a.pageCurrent=a.pagesTotal<a.pageCurrent?a.pagesTotal:a.pageCurrent;!b.isFunction(a.baseUrl)&&!a.baseUrl.match(/%page%/i)&&(a.baseUrl+=
"%page%");d=c=o=i=n=e=h=null;h=this;b(h).html(function(){var c=100/(a.pagesSpan+2)+"%",d=b.isFunction(a.baseUrl),l=parseInt(a.pageCurrent)<parseInt(a.pagesTotal)-1?parseInt(a.pageCurrent)+1:a.pagesTotal*1-1,f;f='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,l));f=f+('" rel="'+l+'">%next%</a>');var l='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,a.pagesTotal*1-1)),l=l+('" rel="'+(a.pagesTotal*1-1)+'">%last%</a>'),g=parseInt(a.pageCurrent)>0?parseInt(a.pageCurrent)-
1:0,e;e='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,g));e=e+('" rel="'+g+'">%prior%</a>');var h;h='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,0));h=h+'" rel="0">%first%</a>';if(a.returnOrder){var i=a.lang.arrowLeft+" "+a.lang.next,d=a.lang.last,g=a.lang.prior+" "+a.lang.arrowRight,k=a.lang.first;if(a.pageCurrent<a.pagesTotal-1){i=f.replace(/%next%/,i);d=l.replace(/%last%/,d)}if(a.pageCurrent>0){g=e.replace(/%prior%/,g);k=h.replace(/%first%/,k)}}else{k=a.lang.last;
g=a.lang.next+" "+a.lang.arrowRight;i=a.lang.arrowLeft+" "+a.lang.prior;d=a.lang.first;if(a.pageCurrent<a.pagesTotal-1){g=f.replace(/%next%/,g);k=l.replace(/%last%/,k)}if(a.pageCurrent>0){i=e.replace(/%prior%/,i);d=h.replace(/%first%/,d)}}f='<table width="100%"><tr><td class="left top">'+i+'</td><td class="spaser"></td><td rowspan="2" align="center"><table><tr>';for(l=1;l<=a.pagesSpan;l++)f=f+('<td width="'+c+'"></td>');return f=f+('</tr><tr><td colspan="'+a.pagesSpan+'"><div class="scroll_bar"><div class="scroll_trough"></div><div class="scroll_thumb"><div class="scroll_knob"></div></div><div class="current_page_mark"></div></div></td></tr></table></td><td class="spaser"></td><td class="right top">'+
g+'</td></tr><tr><td class="left bottom">'+d+'</td><td class="spaser"></td><td class="spaser"></td><td class="right bottom">'+k+"</td></tr></table>")}());e=b(h).find("table:last");n=b(e).find("tr:first");i=b(n).find("td");o=b(h).find("div.scroll_bar");c=b(h).find("div.scroll_thumb");d=b(h).find("div.current_page_mark");a.pagesTotal==a.pagesSpan&&b(h).addClass("fulsize");c.widthMin="8";c.widthPercent=100*(a.pagesSpan/a.pagesTotal);c.xPosPageCurrent=(a.pageCurrent+1-Math.round(a.pagesSpan/2))/a.pagesTotal*
b(e).width();a.returnOrder&&(c.xPosPageCurrent=b(e).width()-(c.xPosPageCurrent+Math.round(a.pagesSpan/2)/a.pagesTotal*b(e).width()));c.xPos=c.xPosPageCurrent;c.xPosMin=0;c.xPosMax;c.widthActual;s();d.widthMin="3";d.widthPercent=100/a.pagesTotal;d.widthActual;t();u();(function(){k();a.returnOrder?q():p();b(c).bind("mousedown",function(d){var e=d.pageX-c.xPos;b(document).bind("mousemove",function(b){c.xPos=b.pageX-e;k();a.returnOrder?q():p()});b(document).bind("mouseup",function(){b(document).unbind("mousemove");
v()});w()});b.isFunction(a.baseUrl)&&b(h).find('a[rel!=""]').bind("click",function(){var c=parseInt(b(this).attr("rel"));a.baseUrl(c)});b(window).resize(function(){t();u();s()})})();window.addEventListener&&window.addEventListener("DOMMouseScroll",r,!1);window.onmousewheel=document.onmousewheel=r;b(this).mouseover(function(){handle=x}).mouseout(function(){handle=null})}})(jQuery);
