(function(b,i,j){b.fn.nextpaginator=function(i){var e=b.extend({page:0,count:1,perpage:10,url:j.location.toString(),pageurl:j.location.toString()},i);b(this).first().next().not(".paginated").paginator({pagesTotal:e.count,pagesSpan:e.perpage,pageCurrent:e.page-1,baseUrl:function(b){j.location=1==++b?e.url:e.pageurl+b+"/"}});b(this).first().remove();return this};b.fn.paginator=function(m){var e,g,l,n,c,d;function r(a){var b=0;a||(a=j.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);
b&&"function"==typeof handle&&(handle(b),a.preventDefault&&a.preventDefault(),a.returnValue=!1)}function s(){b(c).css({width:c.widthPercent+"%"});c.widthActual=b(c).width();c.widthActual<c.widthMin&&b(c).css("width",c.widthMin+"px");c.xPosMax=b(g).width-c.widthActual}function k(){b(c).css({left:c.xPos+"px"})}function t(){b(d).css({width:d.widthPercent+"%"});d.widthActual=b(d).width();d.widthActual<d.widthMin&&b(d).css("width",d.widthMin+"px")}function u(){var c=0,c=d.widthActual<b(d).width()?a.pageCurrent/
a.pagesTotal*b(g).width()-b(d).width()/2:a.pageCurrent/a.pagesTotal*b(g).width();0>c&&(c=0);c>b(n).width()-b(d).width()&&(c=b(n).width()-b(d).width());a.returnOrder&&(c=b(g).width()-c-b(d).width());b(d).css({left:c+"px"})}function o(){b(".paginator").off("click.pagenator").on("click.pagenator",'a.page-number, a[rel!=""]',function(){var c=b(".paginator"),h=b(this);if(h.hasClass("page-number")){var f=1*h.text()-1;b("a.page-number",c).removeClass("paginator-current-page");h.addClass("paginator-current-page")}else f=
parseInt(h.attr("rel"));if(isNaN(f)||f==a.pageCurrent)return!1;try{a.pageCurrent=f,b(".next-page",c).attr("rel",f<parseInt(a.pagesTotal)-1?f+1:1*a.pagesTotal-1),b(".prev-page",c).attr("rel",0<f?f-1:0),a.baseUrl(f)}catch(d){alert("error "+d.message)}return!1})}function p(){var d=c.xPos/b(g).width(),d=Math.round(d*a.pagesTotal),h="";0>d?(d=0,c.xPos=0,k()):d>=a.pagesTotal-a.pagesSpan&&(d=a.pagesTotal-a.pagesSpan,c.xPos=b(g).width()-b(c).width(),k());b.isFunction(a.baseUrl);for(var f=1;f<=l.length;f++)h=
d+f,h=1*h-1==a.pageCurrent?'<span> <a href=#"" class="page-number paginator-current-page">'+h+"</a></span>":'<span> <a href="#" class="page-number">'+h+"</a></span>",b(l[f-1]).html(h);o(e)}function q(){var d=c.xPos/b(g).width(),d=a.pagesTotal-Math.round(d*a.pagesTotal),h="";d<a.pagesSpan?(d=a.pagesSpan,c.xPos=b(g).width()-b(c).width(),k()):d>=a.pagesTotal&&(d=a.pagesTotal,c.xPos=0,k());b.isFunction(a.baseUrl);for(var f=1;f<=l.length;f++)h=d-f,h=1*h-1==a.pageCurrent?'<span> <a href="#" class="page-number paginator-current-page">'+
h+"</a></span>":'<span> <a href="#" class="page-number">'+h+"</a></span>",b(l[f-1]).html(h);o(e)}function v(){i.onselectstart=function(){return!0}}function w(){i.onselectstart=function(){return!1};b(c).focus()}function x(b){c.xPos+=-5*b;k();a.returnOrder?q():p()}if(b(this).hasClass("paginated"))return this;b(this).addClass("paginated paginator");var a={pagesTotal:1,pagesSpan:10,pageCurrent:0,baseUrl:b.noop,returnOrder:!1,lang:{next:lang.pagenator.next,last:lang.pagenator.last,prior:lang.pagenator.prior,
first:lang.pagenator.first,arrowRight:String.fromCharCode(8594),arrowLeft:String.fromCharCode(8592)}};b.extend(a,m);a.pagesSpan=a.pagesSpan<a.pagesTotal?a.pagesSpan:a.pagesTotal;a.pageCurrent=a.pagesTotal<a.pageCurrent?a.pagesTotal:a.pageCurrent;!b.isFunction(a.baseUrl)&&!a.baseUrl.match(/%page%/i)&&(a.baseUrl+="%page%");d=c=n=l=m=g=e=null;e=this;b(e).html(function(){var c=100/(a.pagesSpan+2)+"%",d=b.isFunction(a.baseUrl),f=parseInt(a.pageCurrent)<parseInt(a.pagesTotal)-1?parseInt(a.pageCurrent)+
1:a.pagesTotal*1-1,e;e='<a class="next-page" href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,f));e=e+('" rel="'+f+'">%next%</a>');var f='<a href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,a.pagesTotal*1-1)),f=f+('" rel="'+(a.pagesTotal*1-1)+'">%last%</a>'),g=parseInt(a.pageCurrent)>0?parseInt(a.pageCurrent)-1:0,i;i='<a class="prev-page" href="'+(d?"javascript:void(0)":a.baseUrl.replace(/%page%/i,g));i=i+('" rel="'+g+'">%prior%</a>');var j;j='<a href="'+(d?"javascript:void(0)":
a.baseUrl.replace(/%page%/i,0));j=j+'" rel="0">%first%</a>';if(a.returnOrder){var k=a.lang.arrowLeft+" "+a.lang.next,d=a.lang.last,g=a.lang.prior+" "+a.lang.arrowRight,l=a.lang.first;if(a.pageCurrent<a.pagesTotal-1){k=e.replace(/%next%/,k);d=f.replace(/%last%/,d)}if(a.pageCurrent>0){g=i.replace(/%prior%/,g);l=j.replace(/%first%/,l)}}else{l=a.lang.last;g=a.lang.next+" "+a.lang.arrowRight;k=a.lang.arrowLeft+" "+a.lang.prior;d=a.lang.first;if(a.pageCurrent<a.pagesTotal-1){g=e.replace(/%next%/,g);l=f.replace(/%last%/,
l)}if(a.pageCurrent>0){k=i.replace(/%prior%/,k);d=j.replace(/%first%/,d)}}e='<table width="100%"><tr><td class="left top">'+k+'</td><td class="spaser"></td><td rowspan="2" align="center"><table><tr>';for(f=1;f<=a.pagesSpan;f++)e=e+('<td width="'+c+'"></td>');return e=e+('</tr><tr><td colspan="'+a.pagesSpan+'"><div class="scroll_bar"><div class="scroll_trough"></div><div class="scroll_thumb"><div class="scroll_knob"></div></div><div class="current_page_mark"></div></div></td></tr></table></td><td class="spaser"></td><td class="right top">'+
g+'</td></tr><tr><td class="left bottom">'+d+'</td><td class="spaser"></td><td class="spaser"></td><td class="right bottom">'+l+"</td></tr></table>")}());g=b(e).find("table:last");m=b(g).find("tr:first");l=b(m).find("td");n=b(e).find("div.scroll_bar");c=b(e).find("div.scroll_thumb");d=b(e).find("div.current_page_mark");a.pagesTotal==a.pagesSpan&&b(e).addClass("fulsize");c.widthMin="8";c.widthPercent=100*(a.pagesSpan/a.pagesTotal);c.xPosPageCurrent=(a.pageCurrent+1-Math.round(a.pagesSpan/2))/a.pagesTotal*
b(g).width();a.returnOrder&&(c.xPosPageCurrent=b(g).width()-(c.xPosPageCurrent+Math.round(a.pagesSpan/2)/a.pagesTotal*b(g).width()));c.xPos=c.xPosPageCurrent;c.xPosMin=0;c.xPosMax;c.widthActual;s();d.widthMin="3";d.widthPercent=100/a.pagesTotal;d.widthActual;t();u();(function(){k();a.returnOrder?q():p();b(c).bind("mousedown",function(d){var e=d.pageX-c.xPos;b(i).bind("mousemove",function(b){c.xPos=b.pageX-e;k();a.returnOrder?q():p()});b(i).bind("mouseup",function(){b(i).unbind("mousemove");v()});
w()});b.isFunction(a.baseUrl)&&o(e);b(j).resize(function(){t();u();s()})})();j.addEventListener&&j.addEventListener("DOMMouseScroll",r,!1);j.onmousewheel=i.onmousewheel=r;b(this).mouseover(function(){handle=x}).mouseout(function(){handle=null})}})(jQuery,document,window);
