(function(d,e,f){f.litepubl.class_commentquote=Class.extend({init:function(c){this.options=d.extend({comments:"#commentlist",form:"#commentform"},ltoptions.theme.comments,c);var b=this;d(this.options.comments).off("click.quotecomment").on("click.quotecomment",".replycomment, .quotecomment",function(){var a=d(this);a.hasClass("replycomment")?b.reply(a.data("idcomment"),a.data("authorname")):a.hasClass("quotecomment")&&b.quote(a.data("idcomment"),a.data("authorname"));return!1})},getarea:function(){return d("textarea[name='content']",
this.options.form)},getquoted:function(c,b){return""==b?"2 [b]"+c+"[/b]: ":"[b]"+c+"[/b] "+lang.comment.says+":\n[quote]"+b+"[/quote]\n"},quote:function(c,b){var a=f.getSelection?f.getSelection():e.getSelection?e.getSelection():e.selection?e.selection.createRange().text:"";""==a&&(a=d("#commentcontent-"+c).text());var g=this.getarea();g.val(g.val()+this.getquoted(b,a)).focus()},reply:function(c,b){var a=this.getarea();a.val(a.val()+this.getquoted(b,""))}});d(e).ready(function(){litepubl.commentquote=
new litepubl.class_commentquote})})(jQuery,document,window);
