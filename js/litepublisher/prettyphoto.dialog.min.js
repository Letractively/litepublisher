(function(b){b.messagebox=function(a,c){b.prettyPhotoDialog({title:a,html:"<p>"+c+"</p>",width:200})};b.confirmbox=function(a,c,d,e,f){b.prettyPhotoDialog({title:a,html:"<p>"+c+"</p>",buttons:[{title:d,click:function(){var a=b(this).data("index");b.prettyPhoto.close();f(a)}},{title:e,click:function(){var a=b(this).data("index");b.prettyPhoto.close();f(a)}}]})};b.fn.prettyPhotoDialog=function(a){b.prettyPhotoDialog({title:b(this).attr("title"),html:b(this).html(),buttons:a});return this};b.prettyPhotoDialog=
function(a){for(var c=b.extend({title:"",html:"",width:300,buttons:[{title:"Ok",click:function(){b.prettyPhoto.close()}}]},a),a="",d=0,e=c.buttons.length;d<e;d++)a+='<button type="button" class="pp_dialog_btn_{index}">{title}</button>'.replace(/{index}/g,d).replace(/{title}/g,c.buttons[d].title);var d="pp_dialog_id_"+(Math.random()+"").replace(".",""),f=b('<div id="'+d+'"></div>').appendTo("body").hide();f.html('<div class="pp_dialog_title"><h3>'+c.title+"</h3></div>"+c.html+'<div class="pp_dialog_buttons">'+
a+"</div>");a=b("<div></div>").appendTo("body").hide();e=b("<a title=''></a>").appendTo(a);e.attr("href","#"+d);e.prettyPhoto({default_width:c.width,opacity:0.6,modal:!0,deeplinking:!1,keyboard_shortcuts:!1,show_title:!1,social_tools:!1,changepicturecallback:function(){f.remove();b(".pp_close").remove();for(var a=0,d=c.buttons.length;a<d;a++)b(".pp_dialog_btn_"+a).data("index",a).click(c.buttons[a].click);b(".pp_dialog_btn_0").focus()},callback:function(){b(document).off("keydown.prettyphotoDialog")}});
e.click();a.remove();b(document).off("keydown.prettyphotoDialog").on("keydown.prettyphotoDialog",function(a){27==a.keyCode&&(b.prettyPhoto.close(),a.preventDefault(),b(document).off("keydown.prettyphotoDialog"))})}})(jQuery);
