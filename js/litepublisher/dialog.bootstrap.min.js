(function(a,m,n){a.BootstrapDialog=Class.extend({tml:'<div class="modal fade" id="dialog-%%id%%" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog center-block%%sizeclass%%"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">%%title%%</h4></div><div class="modal-body">%%body%%</div><div class="modal-footer">%%buttons%%</div></div></div></div>',button:'<button type="button" class="btn btn-default" id="%%id%%">%%title%%</button>',
dialog:!1,styles:!1,tmlstyle:'<style type="text/css">.%%classname%%{%%prop%%:%%value%%px;}</style>',init:function(){this.id=a.now();this.styles=[];var g=this;this.options={title:"",html:"",width:!1,height:!1,open:a.noop,close:a.noop,buttons:[{title:"Ok",click:function(){g.close()}}]};a.closedialog=a.proxy(this.close,this);a.litedialog=a.proxy(this.open,this)},close:function(){this.dialog&&(this.dialog.modal("hide"),this.dialog=!1)},open:function(g){if(this.dialog)return alert("Dialog already opened");
var k=this.id++,c=a.extend({},this.options,g),h="";g="button-"+k+"-";for(var b=0,d=c.buttons.length;b<d;b++)h+=this.button.replace(/%%id%%/g,g+b).replace(/%%title%%/g,c.buttons[b].title);1==d&&(h=h.replace(/%%btn-default%%/g,"btn-primary"));var b="",f;for(f in{width:0,height:0})c[f]&&(d="dialog-"+f+"-"+c[f],b=b+" "+d,-1==a.inArray(d,this.styles)&&(this.styles.push(d),a("head:first").append(a.simpletml(this.tmlstyle,{classname:d,prop:f,value:c[f]+("width"==f?50:0)}))));for(var k=a.simpletml(this.tml,
{id:k,title:c.title,sizeclass:b,body:c.html,buttons:h}),e=this.dialog=a(k).appendTo("body"),b=0,d=c.buttons.length;b<d;b++)a("#"+g+b,e).data("index",b).on("click.dialog",c.buttons[b].click);if(a.isFunction(c.open))e.on("shown.bs.modal",function(){c.open(e)});e.modal();var l=this;e.on("hidden.bs.modal",function(){a.isFunction(c.close)&&c.close(e);l.dialog=!1;e.remove()});return e}});ready2(function(){"modal"in a.fn&&(a.bootstrapDialog=new a.BootstrapDialog)})})(jQuery,window,document);
