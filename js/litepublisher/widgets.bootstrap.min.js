(function(c,h,g,f){f.BootstrapWidgets=Class.extend({toggleclass:"",init:function(b){b=c.extend({button:".widget-button",inline:".widget-inline",ajax:".widget-ajax",toggle:"fa-expand fa-collapse"},b);var a=this;a.toggleclass=b.toggle;c(b.button).each(function(){var d=c(this),e=d.find(b.inline);if(e.length)d.data("span",e).one("click",function(){a.addinline(c(this));return!1});else if(e=d.find(b.ajax),e.length)d.data("span",e).one("click",function(){a.load(c(this));return!1});else switch(d.data("model")){case "dropdown":d.dropdown();
break;case "slide":d.on("click.widget",function(){c(this).next().slideToggle();return!1})}})},load:function(b){var a=b.data("span").data("widget"),d=this;c.get(ltoptions.url+"/getwidget.htm",{id:a.id,sidebar:a.sidebar,themename:ltoptions.theme.name,idurl:ltoptions.idurl},function(c){a.html=c;a.comment=b.findcomment(a.id);d.add(b)},"html")},addinline:function(b){var a=b.data("span").data("widget");a.comment=b.findcomment(!1);if(!a.comment)return alert("Widget content not found");a.html=a.comment.nodeValue;
this.add(b)},add:function(b){var a=b.data("span").data("widget");switch(b.data("model")){case "dropdown":a.body=c(a.comment).replaceComment(a.html);a.comment=!1;b.dropdown().dropdown("toggle");break;case "slide":a.body=c(a.comment).replaceComment(a.html);a.comment=!1;var d=this;d.toggleicon(e);b.data("body",a.body).on("click.widget",function(){var a=c(this);d.toggleicon(a.data("span"));a.data("body").slideToggle();return!1});break;case "popover":a.comment&&c(a.comment).remove();a.comment=!1;var e=
b.data("span");this.toggleicon(e);b.popover({title:e.text(),html:a.html,container:"body",placement:b.data("placement"),trigger:"manual"});d=this;b.on("click.widget",function(){var a=c(this);a.popover("toggle");d.toggleicon(a.data("span"));return!1})}},toggleicon:function(b){b.find("i").toggleClass(this.toggleclass)}});c(g).ready(function(){f.widgets=new f.BootstrapWidgets})})(jQuery,window,document,litepubl);
