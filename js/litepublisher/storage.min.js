(function(c,f,a){litepubl.Storage=Class.extend({get:!1,set:!1,remove:!1,init:function(){if(!("storage"in litepubl)){var d=!1;if("localStorage"in a){try{a.localStorage.setItem("litepubl_test","testvalue"),d=!0,a.localStorage.removeItem("litepubl_test")}catch(g){}if(d){this.get=c.proxy(a.localStorage.getItem,a.localStorage);this.set=c.proxy(a.localStorage.setItem,a.localStorage);this.remove=c.proxy(a.localStorage.removeItem,a.localStorage);return}}if("globalStorage"in a){try{if(a.globalStorage)var e=
"localhost"==a.location.hostname?a.globalStorage["localhost.localdomain"]:a.globalStorage[a.location.hostname],d=!0}catch(h){}if(d){this.get=c.proxy(e.getItem,e);this.set=c.proxy(e.setItem,e);this.remove=c.proxy(e.removeItem,e);return}}try{var b=f.createElement("link");b.addBehavior&&(b.addBehavior("#default#userData"),f.getElementsByTagName("head")[0].appendChild(b),b.load(),d=!0)}catch(k){}d?(this.get=function(a){b.load();return b.getAttribute(a)},this.set=function(a,c){b.setAttribute(a,c);b.save()},
this.remove=function(a){b.removeAttribute(a);b.save()}):(this.get=function(a){return c.cookie(a)},this.set=function(a,b){c.cookie(a,b,{path:"/",expires:3650})},this.remove=function(a){c.cookie(a,!1)})}}})})(jQuery,document,window);
