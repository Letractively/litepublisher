(function(b,g,e){var d=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,h=d.exec(ltoptions.url),d=d.exec(location.href.toLowerCase())||[];h[2]!=d[2]&&(ltoptions.url=ltoptions.url.replace(h[2],d[2]),ltoptions.files=ltoptions.files.replace(h[2],d[2]));e.litepubl={tml:{},getjson:function(a,c){return b.ajax({type:"get",url:ltoptions.url+"/admin/jsonserver.php",data:a,success:c,dataType:"json",cache:"cache"in a?a.cache:!0})}};e.dump=function(a){alert(JSON.stringify(a))};e.get_get=function(a){for(var b=e.location.search.substring(1).split("&"),
k=0,f=b.length;k<f;k++){var d=b[k].split("=");if(a==d[0])return decodeURIComponent(d[1])}return!1};e.get_cookie=function(a){return b.cookie(a)};e.set_cookie=function(a,c,d){b.cookie(a,c,{path:"/",expires:d?d:3650})};e.$ready=function(a){b(g).ready(a)};e.erralert=function(a){alert("error "+a.message)};b.extend({load_script:function(a,c){return b.ajax({type:"get",url:a,data:void 0,success:c,dataType:"script",cache:!0})},load_css:function(a){b('<link rel="stylesheet" type="text/css" href="'+a+'" />').appendTo("head:first")},
uiscript:!1,load_ui:function(a){if(!b.uiscript){var c=ltoptions.files+"/js/jquery/ui-"+ltoptions.jqueryui_version;b.load_css(c+"/redmond/jquery-ui-"+ltoptions.jqueryui_version+".custom.css");b.uiscript=b.load_script(c+"/jquery-ui-"+ltoptions.jqueryui_version+".custom.min.js")}b.isFunction(a)&&b.uiscript.done(a)},litejson:function(a,c){return b.litejsontype("get",a,c)},litejsonpost:function(a,c){return b.litejsontype("post",a,c)},litejsontype:function(a,c,d){var f=b.cookie("litepubl_user");""!=f&&
(c.litepubl_user=f,f=b.cookie("litepubl_user_id"),""!=f&&(c.litepubl_user_id=f));"post"!=a&&(a="get");var f="cache"in c?c.cache:!1,e="";f||"post"!=a||("random"in litepubl||(litepubl.random=b.now()),e="?_="+litepubl.random++);return b.ajax({type:a,url:ltoptions.url+"/admin/jsonserver.php"+e,data:c,success:d,dataType:"json",cache:f})},onEscape:function(a){b(g).off("keydown.onEscape").on("keydown.onEscape",function(c){27==c.keyCode&&(b.isFunction(a)&&a(),c.preventDefault(),b(g).off("keydown.onEscape"))})}});
b.fn.replaceComment=function(a){a=void 0==a?b(this.get(0).nodeValue):b(a);b(this).before(a).remove();return a}})(jQuery,document,window);
