(function(c,h,e){var f=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,k=f.exec(ltoptions.url),f=f.exec(location.href.toLowerCase())||[];k[2]!=f[2]&&(ltoptions.url=ltoptions.url.replace(k[2],f[2]),ltoptions.files=ltoptions.files.replace(k[2],f[2]));ltoptions.ajaxurl=ltoptions.url.substring(ltoptions.url.indexOf(":")+1);e.litepubl={tml:{},guid:c.now(),ready2:c.Deferred(),adminpanel:!1,is_adminpanel:function(){return!1!==litepubl.adminpanel?litepubl.adminpanel:litepubl.adminpanel=litepubl.is_admin_url(location.href)},
is_admin_url:function(a){a=a.toLowerCase();var b=a.indexOf("://");0<=b&&(a=a.substring(b+4));a=a.split("/");return 2>=a.length||"admin"!=a[1]||""==a[2]?0:/^(login|logout|password|reguser)$/.test(a[2])?0:1},user:0,getuser:function(){var a=litepubl;return a.user?a.user:a.user={id:parseInt(c.cookie("litepubl_user_id")),pass:c.cookie("litepubl_user"),regservice:c.cookie("litepubl_regservice")}},stat:function(a,b){},getjson:function(a,b){return c.ajax({type:"get",url:ltoptions.ajaxurl+"/admin/jsonserver.php",
data:a,success:b,dataType:"json",cache:"cache"in a?a.cache:!0})},_onnew:{},_oninit:{},newinstance:function(a,b){var d=litepubl;if(a in d._onnew){var c={varname:a,fn:b};d._onnew[a].fire(c);delete d._onnew[a];b=c.fn}c=new b;d[a]=c;a in d._oninit&&(d._oninit[a].fire(c),delete d._oninit[a]);return c},oninit:function(a,b){var d=litepubl;if(a in d)return b(d[a]);a in d._oninit||(d._oninit[a]=c.Callbacks());d._oninit[a].add(b)},onnew:function(a,b){var d=llitepubl;if(a in d)return!1;a in d._onnew||(d._onnew[a]=
c.Callbacks());d._onnew[a].add(b)}};e.dump=function(a){alert(JSON.stringify(a))};e.get_get=function(a,b){for(var c=(b?b.substring(b.indexOf("?")+1):e.location.search.substring(1)).split("&"),g=0,l=c.length;g<l;g++){var f=c[g].split("=");if(a==f[0])return decodeURIComponent(f[1])}return!1};e.get_cookie=function(a){return c.cookie(a)};e.set_cookie=function(a,b,d){c.cookie(a,b,{path:"/",expires:d?d:3650,secure:"secure"in ltoptions?ltoptions.secure:!1})};e.$ready=function(a){c(h).ready(a)};e.ready2=function(a){litepubl.ready2.done(a)};
c(h).ready(function(){e.setTimeout(function(){litepubl.ready2.resolve()},20)});e.erralert=function(a){alert("error "+a.message)};c.extend({load_script:function(a,b){return c.ajax({type:"get",url:a,data:void 0,success:b,dataType:"script",cache:!0})},load_css:function(a){c('<link rel="stylesheet" type="text/css" href="'+a+'" />').appendTo("head:first")},litejson:function(a,b){return c.litejsontype("get",a,b)},litejsonpost:function(a,b){return c.litejsontype("post",a,b)},litejsontype:function(a,b,d){"post"!=
a&&(a="get");var g=litepubl.getuser();g.id&&(b.litepubl_user_id=g.id,b.litepubl_user=g.pass,b.litepubl_user_regservice=g.regservice);var g="cache"in b?b.cache:!1,e="";g||"post"!=a||(e="?_="+litepubl.guid++);return c.ajax({type:a,url:ltoptions.ajaxurl+"/admin/jsonserver.php"+e,data:b,success:d,dataType:"json",cache:g})},onEscape:function(a){c(h).off("keydown.onEscape").on("keydown.onEscape",function(b){27==b.keyCode&&(c.isFunction(a)&&a(),b.preventDefault(),c(h).off("keydown.onEscape"))})}});c.links=
{isready:!1,links:!1,list:!1,on:function(a,b){var d=c.links;if(d.isready)d.links.filter(a).on("click",b);else d.list||(d.list=[]),d.list.push({filter:a,fn:b}),c(h).ready(function(){var a=c("a");d.links=a;d.isready=!0;for(var b=d.list,e=0,f=b.length;e<f;e++){var h=b[e];a.filter(h.filter).on("click",h.fn)}d.list=!1})}};c.fn.replaceComment=function(a){a=void 0==a?c(this.get(0).nodeValue):c(a);c(this).before(a).remove();return a};c.fn.findcomment=function(a){return c.findcomment(this.get(0),a?"widgetcontent-"+
a:!1)};c.findcomment=function(a,b){var d=!1;do if(d=c.nextcomment(a,b))return d;while(a=a.parentNode);return!1};c.nextcomment=function(a,b){var d=!1;do{if(8==a.nodeType&&(!b||b==a.nodeValue))return a;if(a.firstChild&&(d=c.nextcomment(a.firstChild,b)))return d}while(a=a.nextSibling);return!1}})(jQuery,document,window);
